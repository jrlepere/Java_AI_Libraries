import java.util.LinkedList;
import java.util.List;
import java.util.Random;

import problem.Action;
import problem.Problem;
import problem.State;

/**
 * A project class for the Eight Queens problem
 * @author JLepere2
 * @date 02/05/2018
 */
public class EightQueensProblem implements Problem {

	public State getInitialState() {
		return new EightQueensState(new int[]{
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8),
				gen.nextInt(8)
				}
		);
	}

	@Override
	public List<Action> getActions() {
		List<Action> actions = new LinkedList<>();
		for (int r = 0; r < 8; r ++) {
			for (int c = 0; c < 8; c ++) {
				actions.add(new EightQueensAction(r,c));
			}
		}
		return actions;
	}

	@Override
	public boolean isGoalState(State s) {
		/*
		 *         # Column Check
        for i in range(state.ROW_COUNT):
            for j in range(i+1, state.COLUMN_COUNT):
                if state.queen_locations[i] == state.queen_locations[j]:
                    return False
        # Diagonal Check
        for i in range(state.ROW_COUNT):
            c = 1 
            for j in range(i+1, state.COLUMN_COUNT):
                if state.queen_locations[i] == state.queen_locations[j] + c:
                    return False
                if state.queen_locations[i] == state.queen_locations[j] - c:
                    return False
            c += 1
        return True
		 */
		int[] queenLocations = ((EightQueensState) s).getQueenLocations();
		for (int row = 0; row < 8; row ++) {
			for (int col = row + 1; col < 8; col ++) {
				if (queenLocations[row] == queenLocations[col]) return false;
			}
		}
		return false;
	}
	
	Random gen = new Random();

}
